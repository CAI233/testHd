(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-lingshou-lingshouScan"],{"27ca":function(t,a,e){var i=e("5c1c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("11769972",i,!0,{sourceMap:!1,shadowMode:!1})},"4b62":function(t,a,e){"use strict";var i=e("27ca"),n=e.n(i);n.a},"5c1c":function(t,a,e){a=t.exports=e("2350")(!1),a.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.cont[data-v-46afa8ac]{width:100%;padding:%?30?%;-webkit-box-sizing:border-box;box-sizing:border-box}.cont .cont-scan[data-v-46afa8ac]{padding-top:%?100?%}.cont .cont-scan uni-view[data-v-46afa8ac]{position:relative;margin:0 auto;-webkit-box-sizing:border-box;box-sizing:border-box;width:%?300?%;height:%?300?%;line-height:%?300?%;border:%?10?% solid #df8d15;text-align:center;color:#df8d15;font-size:%?40?%}.cont .cont-scan uni-view uni-text[data-v-46afa8ac]{position:relative;z-index:999}.cont .cont-scan uni-view[data-v-46afa8ac]:before{content:"";display:block;position:absolute;width:%?300?%;height:%?100?%;background:#fff;left:%?-10?%;top:%?90?%}.cont .cont-scan uni-view[data-v-46afa8ac]:after{content:"";display:block;position:absolute;height:%?300?%;width:%?100?%;background:#fff;top:%?-10?%;left:%?90?%}.cont .cont-list .list-lis[data-v-46afa8ac]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;height:%?60?%;line-height:%?60?%;font-size:%?28?%}.cont .cont-list .list-lis uni-input[data-v-46afa8ac]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:%?60?%;line-height:%?60?%;font-size:%?28?%}.cont .cont-list .list-lis uni-button[data-v-46afa8ac]{height:%?60?%;line-height:%?60?%;font-size:%?28?%;background:#009788;color:#fff}.cont .cont-list .list-tlis[data-v-46afa8ac]{border:1px solid #e8eaec;margin-top:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box}.cont .cont-list .list-tlis .tlis-li[data-v-46afa8ac]{border-bottom:1px solid #e8eaec;-webkit-box-sizing:border-box;box-sizing:border-box}.cont .cont-list .list-tlis .tlis-li[data-v-46afa8ac]:after{content:"";display:block;clear:both}.cont .cont-list .list-tlis .tlis-li[data-v-46afa8ac]:first-child{padding:%?20?% 0}.cont .cont-list .list-tlis .tlis-li .li-tc[data-v-46afa8ac]{float:left;text-align:center;font-size:%?26?%;padding:0 %?10?%;-webkit-box-sizing:border-box;box-sizing:border-box;color:#606266;word-break:break-all}.cont .cont-list .list-tlis .tlis-li .li-tc[data-v-46afa8ac]:first-child{width:42.5%}.cont .cont-list .list-tlis .tlis-li .li-tc[data-v-46afa8ac]:nth-child(2){width:42.5%}.cont .cont-list .list-tlis .tlis-li .li-tc[data-v-46afa8ac]:nth-child(3){width:15%}.cont .cont-list .list-tlis .tlis-li>uni-view[data-v-46afa8ac]{padding:%?20?% 0;border-bottom:1px solid #e8eaec;text-align:center;font-size:%?28?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.cont .cont-list .list-tlis .tlis-li>uni-view[data-v-46afa8ac]:after{content:"";display:block;clear:both}.cont .cont-list .list-tlis .tlis-li>uni-view>uni-text[data-v-46afa8ac]{vertical-align:middle}.cont .cont-list .list-tlis .tlis-li>uni-view.li-tf[data-v-46afa8ac]{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.cont .cont-list .list-tlis .tlis-li>uni-view[data-v-46afa8ac]:last-child{border-bottom:none}.cont .cont-foot .foot-btn[data-v-46afa8ac]{background:#009788;height:%?80?%;line-height:%?80?%;color:#fff;border:none;margin-top:%?40?%;-webkit-box-sizing:border-box;box-sizing:border-box}.cont .cont-foot .foot-btn[data-v-46afa8ac]:last-child{background:#fff;color:#101010;border:1px solid #009788}',""])},"786e":function(t,a,e){"use strict";var i=e("288e");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("ac6a"),e("96cf");var n=i(e("3b8d")),s=i(e("f499")),o=i(e("75fc")),c=e("6cad"),l=e("3c70"),r=e("ab72"),u={data:function(){return{formItem:{num:0,scan:"",BuyName:""},scanData:[]}},components:{},onLoad:function(){var t=this;uni.getStorage({key:"lingshouScanData",success:function(a){var e,i=JSON.parse(a.data);(e=t.scanData).push.apply(e,(0,o.default)(i))}}),window.addEventListener("keydown",this.getKey)},computed:{},methods:{getKey:function(t){console.log(t.keyCode),13==t.keyCode&&this.sureBtn()},sureScan:function(){(0,c.scanCode)(this.getCode)},getCode:function(t){var a=this;if(this.scanData.length>0)for(var e in this.scanData)if(this.scanData[e].GoodsCode==t)return(0,r.pullToast)("该条码已被扫码！"),a.formItem.scan="",!1;this.scanData.unshift({GoodsCode:t,scan_time:(0,l.getCurrentDate)(2)}),this.formItem.num=this.scanData.length,uni.setStorage({key:"lingshouScanData",data:(0,s.default)(this.scanData)})},sureBtn:function(){var t=(0,n.default)(regeneratorRuntime.mark(function t(){var a,e,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=this,a.formItem.scan&&""!=a.formItem.scan){t.next=4;break}return(0,r.pullToast)("条码不能为空！"),t.abrupt("return",!1);case 4:if(!(a.scanData.length>0)){t.next=14;break}t.t0=regeneratorRuntime.keys(a.scanData);case 6:if((t.t1=t.t0()).done){t.next=14;break}if(e=t.t1.value,a.scanData[e].GoodsCode!=a.formItem.scan){t.next=12;break}return(0,r.pullToast)("该条码已被扫码！"),a.formItem.scan="",t.abrupt("return",!1);case 12:t.next=6;break;case 14:if(a.formItem.BuyName&&""!=a.formItem.BuyName){t.next=17;break}return(0,r.pullToast)("请输入购买人姓名！",1500,"warning"),t.abrupt("return",!1);case 17:return t.next=19,a.$http.ReqPOST("User/CheckScanCodeForRetail",{ScanCode:a.formItem.scan,BuyName:a.formItem.BuyName});case 19:i=t.sent,a.scanData.unshift({GoodsCode:i.data,scan_time:(0,l.getCurrentDate)(2)}),a.formItem.num=a.scanData.length,a.formItem.scan="",uni.setStorage({key:"lingshouScanData",data:(0,s.default)(a.scanData)});case 24:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),delScan:function(t){this.scanData.splice(t,1),this.formItem.num=this.scanData.length,uni.setStorage({key:"lingshouScanData",data:(0,s.default)(this.scanData)})},submit:function(){var t=(0,n.default)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0!=this.scanData.length){t.next=3;break}return(0,r.pullToast)("条码不能为空！"),t.abrupt("return",!1);case 3:if(this.formItem.BuyName&&""!=this.formItem.BuyName){t.next=6;break}return(0,r.pullToast)("请输入购买人姓名！"),t.abrupt("return",!1);case 6:return t.next=8,this.$http.ReqPOST("User/InsertGoodsByScanCodeByRetail",{BuyName:this.formItem.BuyName,scanCodeJson:(0,s.default)(this.scanData)});case 8:t.sent,(0,r.pullToast)("操作成功"),this.clear();case 11:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),clear:function(){this.scanData=[],this.formItem.num=0,this.formItem.scan="",this.formItem.BuyName="",uni.removeStorage({key:"lingshouScanData"})}}};a.default=u},b3e7:function(t,a,e){"use strict";e.r(a);var i=e("ffe6"),n=e("b748");for(var s in n)"default"!==s&&function(t){e.d(a,t,function(){return n[t]})}(s);e("4b62");var o=e("2877"),c=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"46afa8ac",null);a["default"]=c.exports},b748:function(t,a,e){"use strict";e.r(a);var i=e("786e"),n=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(a,t,function(){return i[t]})}(s);a["default"]=n.a},ffe6:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"cont"},[e("v-uni-view",{staticClass:"cont-scan"},[e("v-uni-view",{on:{click:function(a){a=t.$handleEvent(a),t.sureScan(a)}}},[e("v-uni-text",[t._v("点击扫码")])],1)],1),e("v-uni-view",{staticClass:"cont-list"},[e("v-uni-view",{staticClass:"list-lis"},[e("v-uni-text",[t._v("总行数：")]),e("v-uni-input",{attrs:{type:"text",value:t.formItem.num,placeholder:"0",disabled:""}})],1),e("v-uni-view",{staticClass:"list-lis"},[e("v-uni-text",[t._v("输入条码：")]),e("v-uni-input",{attrs:{type:"text",placeholder:"请扫码或输入条码"},model:{value:t.formItem.scan,callback:function(a){t.$set(t.formItem,"scan",a)},expression:"formItem.scan"}}),e("v-uni-button",{staticClass:"lis-btn",on:{click:function(a){a=t.$handleEvent(a),t.sureBtn(a)}}},[t._v("确认")])],1),e("v-uni-view",{staticClass:"list-lis"},[e("v-uni-text",[t._v("购买人姓名：")]),e("v-uni-input",{attrs:{type:"text",placeholder:"请输入购买人姓名"},model:{value:t.formItem.BuyName,callback:function(a){t.$set(t.formItem,"BuyName",a)},expression:"formItem.BuyName"}})],1),e("v-uni-view",{staticClass:"list-tlis"},[e("v-uni-view",{staticClass:"tlis-li"},[e("v-uni-text",{staticClass:"li-tc"},[t._v("条码")]),e("v-uni-text",{staticClass:"li-tc"},[t._v("扫码时间")]),e("v-uni-text",{staticClass:"li-tc"},[t._v("操作")])],1),t.scanData.length>0?e("v-uni-view",{staticClass:"tlis-li"},t._l(t.scanData,function(a,i){return e("v-uni-view",{key:i},[e("v-uni-text",{staticClass:"li-tc"},[t._v(t._s(a.GoodsCode))]),e("v-uni-text",{staticClass:"li-tc"},[t._v(t._s(a.scan_time))]),e("v-uni-text",{staticClass:"li-tc",on:{click:function(a){a=t.$handleEvent(a),t.delScan(i)}}},[t._v("删除")])],1)}),1):e("v-uni-view",{staticClass:"tlis-li"},[e("v-uni-view",{staticClass:"li-tf"},[e("v-uni-text",[t._v("暂无数据")])],1)],1)],1)],1),e("v-uni-view",{staticClass:"cont-foot"},[e("v-uni-button",{staticClass:"foot-btn ",on:{click:function(a){a=t.$handleEvent(a),t.submit(a)}}},[t._v("提交")]),e("v-uni-button",{staticClass:"foot-btn ",on:{click:function(a){a=t.$handleEvent(a),t.clear(a)}}},[t._v("清除")])],1)],1)],1)},n=[];e.d(a,"a",function(){return i}),e.d(a,"b",function(){return n})}}]);