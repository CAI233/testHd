(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-caigou-selfScan"],{"1b3f":function(t,n,i){n=t.exports=i("2350")(!1),n.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.cont[data-v-4bf80a26]{width:100%;padding:%?30?%;-webkit-box-sizing:border-box;box-sizing:border-box}.cont .cont-scan[data-v-4bf80a26]{padding-top:%?100?%}.cont .cont-scan uni-view[data-v-4bf80a26]{position:relative;margin:0 auto;-webkit-box-sizing:border-box;box-sizing:border-box;width:%?300?%;height:%?300?%;line-height:%?300?%;border:%?10?% solid #df8d15;text-align:center;color:#df8d15;font-size:%?40?%}.cont .cont-scan uni-view uni-text[data-v-4bf80a26]{position:relative;z-index:999}.cont .cont-scan uni-view[data-v-4bf80a26]:before{content:"";display:block;position:absolute;width:%?300?%;height:%?100?%;background:#fff;left:%?-10?%;top:%?90?%}.cont .cont-scan uni-view[data-v-4bf80a26]:after{content:"";display:block;position:absolute;height:%?300?%;width:%?100?%;background:#fff;top:%?-10?%;left:%?90?%}.cont .cont-list .list-lis[data-v-4bf80a26]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;height:%?60?%;line-height:%?60?%;font-size:%?28?%}.cont .cont-list .list-lis uni-input[data-v-4bf80a26]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:%?60?%;line-height:%?60?%;font-size:%?28?%}.cont .cont-list .list-lis uni-button[data-v-4bf80a26]{height:%?60?%;line-height:%?60?%;font-size:%?28?%;background:#009788;color:#fff}.cont .cont-list .list-tlis[data-v-4bf80a26]{border:1px solid #e8eaec;margin-top:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box}.cont .cont-list .list-tlis .tlis-li[data-v-4bf80a26]{border-bottom:1px solid #e8eaec;-webkit-box-sizing:border-box;box-sizing:border-box}.cont .cont-list .list-tlis .tlis-li[data-v-4bf80a26]:after{content:"";display:block;clear:both}.cont .cont-list .list-tlis .tlis-li[data-v-4bf80a26]:first-child{padding:%?20?% 0}.cont .cont-list .list-tlis .tlis-li .li-tc[data-v-4bf80a26]{float:left;text-align:center;font-size:%?26?%;padding:0 %?10?%;-webkit-box-sizing:border-box;box-sizing:border-box;color:#606266;word-break:break-all}.cont .cont-list .list-tlis .tlis-li .li-tc[data-v-4bf80a26]:first-child{width:42.5%}.cont .cont-list .list-tlis .tlis-li .li-tc[data-v-4bf80a26]:nth-child(2){width:42.5%}.cont .cont-list .list-tlis .tlis-li .li-tc[data-v-4bf80a26]:nth-child(3){width:15%}.cont .cont-list .list-tlis .tlis-li>uni-view[data-v-4bf80a26]{padding:%?20?% 0;border-bottom:1px solid #e8eaec;text-align:center;font-size:%?28?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.cont .cont-list .list-tlis .tlis-li>uni-view[data-v-4bf80a26]:after{content:"";display:block;clear:both}.cont .cont-list .list-tlis .tlis-li>uni-view>uni-text[data-v-4bf80a26]{vertical-align:middle}.cont .cont-list .list-tlis .tlis-li>uni-view.li-tf[data-v-4bf80a26]{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.cont .cont-list .list-tlis .tlis-li>uni-view[data-v-4bf80a26]:last-child{border-bottom:none}.cont .cont-foot .foot-btn[data-v-4bf80a26]{background:#009788;height:%?80?%;line-height:%?80?%;color:#fff;border:none;margin-top:%?40?%;-webkit-box-sizing:border-box;box-sizing:border-box}.cont .cont-foot .foot-btn[data-v-4bf80a26]:last-child{background:#fff;color:#101010;border:1px solid #009788}',""])},"3efc":function(t,n,i){"use strict";i.r(n);var e=i("e72b"),a=i("cc5f");for(var s in a)"default"!==s&&function(t){i.d(n,t,function(){return a[t]})}(s);i("4546");var o=i("2877"),c=Object(o["a"])(a["default"],e["a"],e["b"],!1,null,"4bf80a26",null);n["default"]=c.exports},4546:function(t,n,i){"use strict";var e=i("a02c"),a=i.n(e);a.a},"533d":function(t,n,i){"use strict";var e=i("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i("ac6a"),i("96cf");var a=e(i("3b8d")),s=e(i("f499")),o=e(i("75fc")),c=i("6cad"),l=i("3c70"),r=i("ab72"),u={data:function(){return{formItem:{num:0,scan:""},scanData:[]}},components:{},onLoad:function(){var t=this;uni.getStorage({key:"topMyScanData",success:function(n){var i,e=JSON.parse(n.data);(i=t.scanData).push.apply(i,(0,o.default)(e))}}),window.addEventListener("keydown",this.getKey)},computed:{},methods:{getKey:function(t){console.log(t.keyCode),13==t.keyCode&&this.sureBtn()},sureScan:function(){(0,c.scanCode)(this.getCode)},getCode:function(t){var n=this;if(this.scanData.length>0)for(var i in this.scanData)if(this.scanData[i].GoodsCode==t)return(0,r.pullToast)("该条码已被扫码！"),n.formItem.scan="",!1;this.scanData.unshift({GoodsCode:t,scan_time:(0,l.getCurrentDate)(2)}),this.formItem.num=this.scanData.length,uni.setStorage({key:"topMyScanData",data:(0,s.default)(this.scanData)})},sureBtn:function(){var t=(0,a.default)(regeneratorRuntime.mark(function t(){var n,i,e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=this,n.formItem.scan&&""!=n.formItem.scan){t.next=4;break}return(0,r.pullToast)("条码不能为空！"),t.abrupt("return",!1);case 4:if(!(n.scanData.length>0)){t.next=14;break}t.t0=regeneratorRuntime.keys(n.scanData);case 6:if((t.t1=t.t0()).done){t.next=14;break}if(i=t.t1.value,n.scanData[i].GoodsCode!=n.formItem.scan){t.next=12;break}return(0,r.pullToast)("该条码已被扫码！"),n.formItem.scan="",t.abrupt("return",!1);case 12:t.next=6;break;case 14:return t.next=16,this.$http.ReqPOST("User/CheckScanCodeForUsedself",{ScanCode:n.formItem.scan});case 16:e=t.sent,n.scanData.unshift({GoodsCode:e.data,scan_time:(0,l.getCurrentDate)(2)}),n.formItem.num=n.scanData.length,n.formItem.scan="",uni.setStorage({key:"topMyScanData",data:(0,s.default)(n.scanData)});case 21:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),delScan:function(t){this.scanData.splice(t,1),this.formItem.num=this.scanData.length,uni.setStorage({key:"topMyScanData",data:(0,s.default)(this.scanData)})},submit:function(){var t=(0,a.default)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0!=this.scanData.length){t.next=3;break}return that.$Message.warning("条码不能为空！"),t.abrupt("return",!1);case 3:return t.next=5,this.$http.ReqPOST("User/InsertGoodsByScanCodeByUsedself",{scanCodeJson:(0,s.default)(this.scanData)});case 5:t.sent,(0,r.pullToast)("操作成功"),this.clear();case 8:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),clear:function(){this.scanData=[],this.formItem.num=0,this.formItem.scan="",uni.removeStorage({key:"topMyScanData"})}}};n.default=u},a02c:function(t,n,i){var e=i("1b3f");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=i("4f06").default;a("7a59d2d2",e,!0,{sourceMap:!1,shadowMode:!1})},cc5f:function(t,n,i){"use strict";i.r(n);var e=i("533d"),a=i.n(e);for(var s in e)"default"!==s&&function(t){i.d(n,t,function(){return e[t]})}(s);n["default"]=a.a},e72b:function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"cont"},[i("v-uni-view",{staticClass:"cont-scan"},[i("v-uni-view",{on:{click:function(n){n=t.$handleEvent(n),t.sureScan(n)}}},[i("v-uni-text",[t._v("点击扫码")])],1)],1),i("v-uni-view",{staticClass:"cont-list"},[i("v-uni-view",{staticClass:"list-lis"},[i("v-uni-text",[t._v("总行数：")]),i("v-uni-input",{attrs:{type:"text",value:t.formItem.num,placeholder:"0",disabled:""}})],1),i("v-uni-view",{staticClass:"list-lis"},[i("v-uni-text",[t._v("输入条码：")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请扫码或输入条码"},model:{value:t.formItem.scan,callback:function(n){t.$set(t.formItem,"scan",n)},expression:"formItem.scan"}}),i("v-uni-button",{staticClass:"lis-btn",on:{click:function(n){n=t.$handleEvent(n),t.sureBtn(n)}}},[t._v("确认")])],1),i("v-uni-view",{staticClass:"list-tlis"},[i("v-uni-view",{staticClass:"tlis-li"},[i("v-uni-text",{staticClass:"li-tc"},[t._v("条码")]),i("v-uni-text",{staticClass:"li-tc"},[t._v("扫码时间")]),i("v-uni-text",{staticClass:"li-tc"},[t._v("操作")])],1),t.scanData.length>0?i("v-uni-view",{staticClass:"tlis-li"},t._l(t.scanData,function(n,e){return i("v-uni-view",{key:e},[i("v-uni-text",{staticClass:"li-tc"},[t._v(t._s(n.GoodsCode))]),i("v-uni-text",{staticClass:"li-tc"},[t._v(t._s(n.scan_time))]),i("v-uni-text",{staticClass:"li-tc",on:{click:function(n){n=t.$handleEvent(n),t.delScan(e)}}},[t._v("删除")])],1)}),1):i("v-uni-view",{staticClass:"tlis-li"},[i("v-uni-view",{staticClass:"li-tf"},[i("v-uni-text",[t._v("暂无数据")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cont-foot"},[i("v-uni-button",{staticClass:"foot-btn ",on:{click:function(n){n=t.$handleEvent(n),t.submit(n)}}},[t._v("提交")]),i("v-uni-button",{staticClass:"foot-btn ",on:{click:function(n){n=t.$handleEvent(n),t.clear(n)}}},[t._v("清除")])],1)],1)],1)},a=[];i.d(n,"a",function(){return e}),i.d(n,"b",function(){return a})}}]);